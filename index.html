<!DOCTYPE html>
<html>
<head>
  what?6
  <script src="//cdnjs.cloudflare.com/ajax/libs/jsforce/1.7.0/jsforce.min.js"></script>
  
  <script>
    
    jsforce.browser.init({
      clientId: '3MVG9d8..z.hDcPJYlRQA5fW4PxovJyC4Q2deSdnJERoAe85JzSeWN.xvLsTX4dKzgdNShXEdp_YsgbcoruvJ',
      clientSecret : '1928434588711300427',
      redirectUri: 'https://wayneglfls.github.io/'
      
    })
 
    //1928434588711300427 client secret

    
    var oauth2 = new jsforce.OAuth2({
      // you can change loginUrl to connect to sandbox or prerelease env.
      // loginUrl : 'https://test.salesforce.com',
      clientId : '3MVG9d8..z.hDcPJYlRQA5fW4PxovJyC4Q2deSdnJERoAe85JzSeWN.xvLsTX4dKzgdNShXEdp_YsgbcoruvJ',
      clientSecret : '1928434588711300427',
      redirectUri : 'https://wayneglfls.github.io/'
    });
    
    app.get('/oauth2/auth', function(req, res) {
      res.redirect(oauth2.getAuthorizationUrl({ scope : 'api id web' }));
    });
    
    
    
    app.get('/oauth2/callback', function(req, res) {
      var conn = new jsforce.Connection({ oauth2 : oauth2 });
      var code = req.param('code');
      conn.authorize(code, function(err, userInfo) {
        if (err) { return console.error(err); }
        // Now you can get the access token, refresh token, and instance URL information.
        // Save them to establish connection next time.
        console.log(conn.accessToken);
        console.log(conn.refreshToken);
        console.log(conn.instanceUrl);
        console.log("User ID: " + userInfo.id);
        console.log("Org ID: " + userInfo.organizationId);
        // ...
        res.send('success'); // or your desired response
      });
    });
    /*
    jsforce.browser.on('connect', function(conn) {
      conn.query('SELECT Id, Name FROM Account', function(err, res) {
        if (err) { return console.error(err); }
        console.log(res);
      });
    });*/
    
        
 </script>
</head>
<body>
  <button onclick="javascript:jsforce.browser.login();">Login</button>
</body>
</html>
