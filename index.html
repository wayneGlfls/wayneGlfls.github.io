<html>
<head>
  what?2
  <script src="//cdnjs.cloudflare.com/ajax/libs/jsforce/1.7.0/jsforce.min.js"></script>
  
  <script>
    
    var oauth2 = jsforce.browser.init({
      clientId: '3MVG9ZL0ppGP5UrAP0f70TkNNlyHF3M83dqPGKBF58HBeYruKNCfYdHqyG5l6PE2_zMP86zRMBVqnMY2kf9dH',
      clientSecret : '1A5C4920A4413FDD2CB47700EA9FDE9A6EF46744D26DC9665FBA4A25938C1297',
      redirectUri: 'https://wayneglfls.github.io/',
      proxyUrl: 'https://lightingout.herokuapp.com/proxy/'
    });
    console.log('oauth2 is '+oauth2);
 
 
    /*
    jsforce.browser.on('connect', function(app) {
      app.get('/oauth2/auth', function(req, res) {
         res.redirect(oauth2.getAuthorizationUrl({ scope : 'api id web' }));
      });
    });
    
    
    jsforce.browser.on('connect', function(app) {      
        app.get('/oauth2/callback', function(req, res) {
          var conn = new jsforce.Connection({ oauth2 : oauth2 });
          var code = req.param('code');
          conn.authorize(code, function(err, userInfo) {
            if (err) { return console.error(err); }
            // Now you can get the access token, refresh token, and instance URL information.
            // Save them to establish connection next time.
            console.log(conn.accessToken);
            console.log(conn.refreshToken);
            console.log(conn.instanceUrl);
            console.log("User ID: " + userInfo.id);
            console.log("Org ID: " + userInfo.organizationId);
            // ...
            res.send('success'); // or your desired response
          });
        });      
    });
    */
    
    jsforce.browser.on('connect', function(conn) {
      conn.query('SELECT Id, Name FROM Account', function(err, res) {
        if (err) { console.log(err); }
        else{
          console.log(res);
          console.log('records are '+res.records);

          var array = res.records;
          var arrayLength = array.length;
          var theTable = document.createElement('table');

          // Note, don't forget the var keyword!
          for (var i = 0, tr, td; i < arrayLength; i++) {
            tr = document.createElement('tr');
            td = document.createElement('td');
            td.appendChild(document.createTextNode(array[i].Name));
            tr.appendChild(td);
            theTable.appendChild(tr);
          }

          document.getElementById('table').appendChild(theTable);
         }
      });
    });
    
        
 </script>
</head>
<body>
  <button onclick="javascript:jsforce.browser.login();">Login</button>
  <div id="like_button_container"></div>
  <div id="table"></div>
  
  
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

  <!-- Load our React component. -->
  <script>
      'use strict';

      const e = React.createElement;

      class LikeButton extends React.Component {
        constructor(props) {
          super(props);
          this.state = { liked: false };
        }

        render() {
          if (this.state.liked) {
            return 'You liked this.';
          }

          return e(
            'button',
            { onClick: () => this.setState({ liked: true }) },
            'Like'
          );
        }
      }
    
    const domContainer = document.querySelector('#like_button_container');
    ReactDOM.render(e(LikeButton), domContainer);
  
  </script>
</body>
</html>
